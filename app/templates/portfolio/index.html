{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Muhammad Siddique | CTO & Systems Architect</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body>

  <!-- Django Messages -->
  {% if messages %}
  <div class="messages-container" style="position: fixed; top: 90px; right: 20px; z-index: 3000;">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}"
      style="background: {% if message.tags == 'success' %}#22c55e{% else %}#ef4444{% endif %}; color: white; padding: 15px 25px; border-radius: 8px; margin-bottom: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); font-weight: 500; animation: slideIn 0.3s ease-out;">
      {{ message }}
    </div>
    {% endfor %}
  </div>
  <script>
    setTimeout(() => {
      document.querySelector('.messages-container').style.display = 'none';
    }, 5000);
  </script>
  {% endif %}

  <!-- Navigation -->
  <nav>
    <div class="container nav-container">
      <div class="logo">
        <a href="#" style="color:white; text-decoration:none;">MS<span>.</span></a>
      </div>
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#expertise">Expertise</a></li>
        <li><a href="#projects">Portfolio</a></li>
        <li><a href="#contact">Contact</a></li>
        <li><a href="https://dualsyncagency.com" target="_blank" class="btn btn-primary"
            style="padding: 8px 20px; font-size: 0.85rem;">Visit Agency</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="container hero" id="home">
    <div class="hero-text">
      <span class="badge">Chief Technology Officer</span>
      <h1>Architecting Scalable <span>Digital Solutions.</span></h1>
      <p>I'm Muhammad Siddique, a Systems Architect specializing in Django backend engineering and scalable
        infrastructures. I help businesses transform through precision-engineered technology.</p>

      <div class="btn-group" style="display:flex; gap:1rem;">
        <a href="#projects" class="btn btn-primary">View Portfolio <i class="fas fa-chevron-right"
            style="font-size:0.8rem;"></i></a>
        <a href="#contact" class="btn btn-outline">Let's Talk</a>
      </div>
    </div>

    <div class="hero-img">
      <div class="img-box">
        <img src="{% static 'imgs/1.img.png' %}" alt="Muhammad Siddique Portrait">
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section class="section" id="about" style="background: #050a1b;">
    <div class="container about-grid">
      <div class="about-img">
        <div class="img-box">
          <img src="{% static 'imgs/portrait_about.jpg' %}" alt="Muhammad Siddique Portrait">
        </div>
      </div>

      <div class="about-content">
        <span class="project-tag">About Me</span>
        <h3>Strategic Engineering for Modern Businesses</h3>
        <p>As the Co-Founder & CTO of DualSync Agency, I lead technical strategies and engineer enterprise-level backend
          systems. My approach combines robust architecture with high-performance database management to deliver
          scalable solutions.</p>

        <div class="stats-grid">
          <div class="stat-item">
            <h4>20+</h4>
            <p>Enterprise Applications Delivered</p>
          </div>
          <div class="stat-item">
            <h4>5+</h4>
            <p>Years Backend Mastery</p>
          </div>
        </div>

        <div style="margin-top: 2rem;">
          <a href="#contact" class="btn btn-primary">Start collaboration</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Technical Expertise -->
  <section class="section" id="expertise">
    <div class="container">
      <h2 class="section-title">Technical Expertise</h2>
      <div class="expertise-grid">
        <div class="expertise-card">
          <i class="fab fa-python" style="color:#3776ab;"></i>
          <h4>Python</h4>
        </div>
        <div class="expertise-card">
          <i class="fas fa-server" style="color:#092e20;"></i>
          <h4>Django</h4>
        </div>
        <div class="expertise-card">
          <i class="fab fa-react" style="color:#61dafb;"></i>
          <h4>React</h4>
        </div>
        <div class="expertise-card">
          <i class="fab fa-js" style="color:#f7df1e;"></i>
          <h4>JavaScript</h4>
        </div>
        <div class="expertise-card">
          <i class="fab fa-docker" style="color:#2496ed;"></i>
          <h4>Docker</h4>
        </div>
        <div class="expertise-card">
          <i class="fas fa-infinity" style="color:#f7a50a;"></i>
          <h4>DevOps</h4>
        </div>
        <!-- Add more as needed -->
      </div>
    </div>
  </section>

  <!-- Portfolio Section -->
  <section class="section" id="projects" style="background: #050a1b;">
    <div class="container">
      <h2 class="section-title">Core Portfolio</h2>

      <div class="projects-grid">

        <!-- Flagship 1: CAD -->
        <div class="project-card featured">
          <div class="project-img-container">
            <div class="project-slider" data-delay="5000">
              <img src="{% static 'imgs/cad_catalog.png' %}" alt="CAD Catalog" class="active">
              <img src="{% static 'imgs/cad_dashboard.png' %}" alt="CAD Dashboard">
            </div>
          </div>
          <div class="project-content">
            <span class="project-tag">E-Commerce Architecture</span>
            <h3>Custom Apparel Design (CAD)</h3>
            <p>A full-lifecycle e-commerce solution featuring complex drag-and-drop design tools, automated fulfillment
              workflows, and Stripe payment integration.</p>
            <div class="project-links">
              <a href="https://www.fiverr.com/users/msiddique007/portfolio/Njk5MzJmZDhiOGQ2YjAwMDAxMTFhZDY5"
                target="_blank"><i class="fas fa-external-link-alt"></i></a>
            </div>
          </div>
        </div>

        <!-- Flagship 2: ERP -->
        <div class="project-card featured">
          <div class="project-img-container">
            <div class="project-slider" data-delay="5000">
              <img src="{% static 'imgs/school_student.png' %}" alt="Student Portal" class="active">
              <img src="{% static 'imgs/school_principal.png' %}" alt="Principal Dashboard">
            </div>
          </div>
          <div class="project-content">
            <span class="project-tag">Enterprise ERP</span>
            <h3>School Management System</h3>
            <p>A mission-critical ERP system for educational institutions with robust role-based access control, complex
              scheduling, and financial modules.</p>
            <div class="project-links">
              <a href="https://github.com/m-siddique-786" target="_blank"><i class="fab fa-github"></i></a>
            </div>
          </div>
        </div>

        <!-- Flagship 3: Filler -->
        <div class="project-card featured">
          <div class="project-img-container">
            <img src="{% static 'imgs/booking_mockup.png' %}" alt="Booking Platform" class="active"
              style="width:100%; height:100%; object-fit:cover;">
          </div>
          <div class="project-content">
            <span class="project-tag">SaaS Infrastructure</span>
            <h3>Filler - Provider Booking</h3>
            <p>A scalable SaaS platform connecting service providers with clients. Built with Django REST Framework, JWT
              authentication, and AWS S3 integration.</p>
            <div class="project-links">
              <a href="https://github.com/m-siddique-786" target="_blank"><i class="fab fa-github"></i></a>
            </div>
          </div>
        </div>

        <!-- Dynamic DB Projects -->
        {% for project in projects %}
        <div class="project-card">
          <div class="project-img-container" style="aspect-ratio: 16/9;">
            {% if project.image %}
            <img src="{{ project.image.url }}" alt="{{ project.title }}"
              style="width:100%; height:100%; object-fit:cover;">
            {% else %}
            <div
              style="width:100%; height:100%; display:flex; align-items:center; justify-content:center; background:#0f172a;">
              <i class="fas fa-code" style="font-size: 2rem; color: #334155;"></i>
            </div>
            {% endif %}
          </div>
          <div class="project-content">
            <span class="project-tag">Web Development</span>
            <h3>{{ project.title }}</h3>
            <p>{{ project.description|truncatechars:100 }}</p>
            <div class="project-links">
              {% if project.github_link %}<a href="{{ project.github_link }}" target="_blank"><i
                  class="fab fa-github"></i></a>{% endif %}
              {% if project.live_link %}<a href="{{ project.live_link }}" target="_blank"><i
                  class="fas fa-external-link-alt"></i></a>{% endif %}
            </div>
          </div>
        </div>
        {% endfor %}
      </div>

      <h3 style="text-align: center; margin-top: 5rem; color: var(--text-secondary); font-size: 1.25rem;">GitHub
        Engineering Logs</h3>
      <div id="github-grid" class="projects-grid" style="margin-top: 2rem;"></div>
    </div>
  </section>

  <!-- Contact Section -->
  <section class="section" id="contact">
    <div class="container">
      <h2 class="section-title">Work With Me</h2>
      <div class="contact-container">
        <form action="." method="POST">
          {% csrf_token %}
          <div class="form-group">
            <label style="display:block; margin-bottom:0.5rem; font-size:0.875rem;">Full Name</label>
            <input type="text" name="name" class="form-control" placeholder="John Doe" required>
          </div>
          <div class="form-group">
            <label style="display:block; margin-bottom:0.5rem; font-size:0.875rem;">Email Address</label>
            <input type="email" name="email" class="form-control" placeholder="john@example.com" required>
          </div>
          <div class="form-group">
            <label style="display:block; margin-bottom:0.5rem; font-size:0.875rem;">Your Message</label>
            <textarea name="message" class="form-control" rows="5" placeholder="Tell me about your project..."
              required></textarea>
          </div>
          <button type="submit" class="btn btn-primary" style="width:100%; justify-content:center;">Send Project
            Inquiry</button>
        </form>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-socials">
        <a href="https://www.linkedin.com/in/muhammad-siddique-88aa98284/" target="_blank"><i
            class="fab fa-linkedin"></i></a>
        <a href="https://github.com/m-siddique-786" target="_blank"><i class="fab fa-github"></i></a>
        <a href="mailto:contact@dualsyncagency.com"><i class="fas fa-envelope"></i></a>
      </div>
      <p style="color:var(--text-secondary);">Designed & Engineered by Muhammad Siddique. Co-founder @ DualSync Agency.
      </p>
    </div>
  </footer>

  <script>
    // GitHub API
    async function fetchGithub() {
      const grid = document.getElementById('github-grid');
      try {
        const res = await fetch('https://api.github.com/users/m-siddique-786/repos?sort=created&per_page=6');
        const repos = await res.json();
        grid.innerHTML = repos.filter(r => !r.fork).map(repo => `
                    <div class="project-card" style="padding:1.5rem;">
                        <span class="project-tag">${repo.language || 'Code'}</span>
                        <h3 style="font-size:1.1rem; margin-bottom:0.5rem;">${repo.name}</h3>
                        <p style="font-size:0.85rem; color:var(--text-secondary); margin-bottom:1rem;">${repo.description || 'View repository on GitHub.'}</p>
                        <div class="project-links">
                            <a href="${repo.html_url}" target="_blank"><i class="fab fa-github"></i></a>
                        </div>
                    </div>
                `).join('');
      } catch (e) { console.error(e); }
    }

    // Slider Logic
    function initSliders() {
      document.querySelectorAll('.project-slider').forEach(slider => {
        const imgs = slider.querySelectorAll('img');
        if (imgs.length <= 1) return;
        let active = 0;
        setInterval(() => {
          imgs[active].classList.remove('active');
          active = (active + 1) % imgs.length;
          imgs[active].classList.add('active');
        }, 5000);
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      fetchGithub();
      initSliders();
    });
  </script>
</body>

</html>